# è¦ªå­ç´ä»˜ã‘è‡ªå‹•åŒ–æ©Ÿèƒ½ - å®Ÿè£…å®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ

## ğŸ“Œ æ¦‚è¦

**å®Ÿè£…å®Œäº†æ—¥**: 2026å¹´1æœˆ15æ—¥

é‹å–¶å´ã§ã®æ‰‹å‹•ç´ä»˜ã‘ä½œæ¥­ã‚’å»ƒæ­¢ã—ã€è¦ªå¾¡ã•ã‚“è‡ªèº«ãŒã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã§ãŠå­æ§˜ã®NFCã‚«ãƒ¼ãƒ‰ã‚’èª­ã¿å–ã‚‹ã€ã¾ãŸã¯QRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã™ã‚‹ã“ã¨ã§ã€è‡ªå‹•çš„ã«LINEé€šçŸ¥é€£æºãŒå®Œäº†ã™ã‚‹ä»•çµ„ã¿ã‚’å®Ÿè£…ã—ã¾ã—ãŸã€‚

---

## âœ… å®Ÿè£…å†…å®¹

### 1. APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

#### `/api/parent-link/verify` (GET)
- **æ©Ÿèƒ½**: NFCã‚«ãƒ¼ãƒ‰ã®ã‚·ãƒªã‚¢ãƒ«ç•ªå·ã¾ãŸã¯ç”Ÿå¾’IDã‹ã‚‰è¦ªå¾¡ã•ã‚“æƒ…å ±ã‚’å–å¾—
- **å…¥åŠ›**: `cardId` ã¾ãŸã¯ `studentId`
- **å‡ºåŠ›**: ç”Ÿå¾’æƒ…å ±ã€è¦ªå¾¡ã•ã‚“æƒ…å ±ã€LINEé€£æºçŠ¶æ³
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `app/api/parent-link/verify/route.ts`

#### `/api/parent-link/connect` (POST)
- **æ©Ÿèƒ½**: LINEãƒ¦ãƒ¼ã‚¶ãƒ¼IDã¨è¦ªå¾¡ã•ã‚“ã‚’è‡ªå‹•ç´ä»˜ã‘
- **å…¥åŠ›**: `lineUserId`, `parentId`, `studentId`, `lineDisplayName` (optional)
- **å‡ºåŠ›**: ç´ä»˜ã‘çµæœã€æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `app/api/parent-link/connect/route.ts`

### 2. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

#### LIFFå¯¾å¿œè¦ªå­ç´ä»˜ã‘ãƒšãƒ¼ã‚¸ (`/parent-link`)
- **æ©Ÿèƒ½**: LINEå†…ã§å‹•ä½œã™ã‚‹è¦ªå­ç´ä»˜ã‘ãƒšãƒ¼ã‚¸
- **ç‰¹å¾´**:
  - LIFFã‚’ä½¿ç”¨ã—ã¦LINEãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’è‡ªå‹•å–å¾—
  - ç”Ÿå¾’æƒ…å ±ã¨è¦ªå¾¡ã•ã‚“æƒ…å ±ã‚’è¡¨ç¤º
  - è¦ªå¾¡ã•ã‚“ã‚’é¸æŠã—ã¦ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§é€£æº
  - é€£æºå®Œäº†å¾Œã€è‡ªå‹•çš„ã«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‰ã˜ã‚‹
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `app/parent-link/page.tsx`

#### NFCã‚«ãƒ¼ãƒ‰èª­ã¿å–ã‚Šãƒšãƒ¼ã‚¸ (`/parent-register`) â­æ–°æ©Ÿèƒ½
- **æ©Ÿèƒ½**: è¦ªå¾¡ã•ã‚“è‡ªèº«ãŒNFCã‚«ãƒ¼ãƒ‰ã‚’èª­ã¿å–ã£ã¦ç™»éŒ²
- **ç‰¹å¾´**:
  - Web NFC APIã§ã‚«ãƒ¼ãƒ‰ã®ã‚·ãƒªã‚¢ãƒ«ç•ªå·ã‚’èª­ã¿å–ã‚Š
  - ã‚«ãƒ¼ãƒ‰IDã‹ã‚‰è‡ªå‹•çš„ã«ç”Ÿå¾’æƒ…å ±ã‚’å–å¾—
  - Android: è‡ªå‹•çš„ã«LIFFãƒšãƒ¼ã‚¸ã«é·ç§»
  - iOS: QRã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¦è¡¨ç¤º
  - å…¨ãƒ‡ãƒã‚¤ã‚¹å¯¾å¿œ
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `app/parent-register/page.tsx`

#### ç®¡ç†ç”»é¢ï¼ˆè¦ªå¾¡ã•ã‚“ç®¡ç†ãƒšãƒ¼ã‚¸ï¼‰
- **æ©Ÿèƒ½**: QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ»è¡¨ç¤ºæ©Ÿèƒ½ã‚’è¿½åŠ 
- **ç‰¹å¾´**:
  - è¦ªå¾¡ã•ã‚“ã”ã¨ã«ã€ç´ã¥ã‘ã‚‰ã‚ŒãŸç”Ÿå¾’ã®QRã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆ
  - QRã‚³ãƒ¼ãƒ‰ç”»åƒã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
  - URL ã®ã‚³ãƒ”ãƒ¼
  - å…±æœ‰æ©Ÿèƒ½ï¼ˆã‚¹ãƒãƒ›ã®ã¿ï¼‰
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `app/admin/parents/page.tsx`

#### QRã‚³ãƒ¼ãƒ‰ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **æ©Ÿèƒ½**: QRã‚³ãƒ¼ãƒ‰è¡¨ç¤ºå°‚ç”¨ã®ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- **ç‰¹å¾´**:
  - ç¾ã—ã„UIãƒ‡ã‚¶ã‚¤ãƒ³
  - è¤‡æ•°ç”Ÿå¾’å¯¾å¿œ
  - ä½¿ã„æ–¹ã‚¬ã‚¤ãƒ‰ä»˜ã
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `components/admin/parent-qr-dialog.tsx`

### 3. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

#### LIFFã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰
- **å†…å®¹**:
  - LINE Developersè¨­å®šæ‰‹é †
  - LIFF IDå–å¾—æ–¹æ³•
  - ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
  - å‹•ä½œç¢ºèªæ‰‹é †
  - ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `docs/liff-parent-link-setup-guide.md`

---

## ğŸ¯ å®Ÿè£…æ–¹å¼

**æ¡ç”¨æ–¹å¼**: æ–¹æ³•1ï¼ˆLIFFï¼‰ + æ–¹æ³•3ï¼ˆQRã‚³ãƒ¼ãƒ‰ï¼‰ã®ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰

### ãƒ¡ãƒªãƒƒãƒˆ

1. **LIFFé€£æº**
   - LINEå†…ã§ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«å‹•ä½œ
   - LINEãƒ¦ãƒ¼ã‚¶ãƒ¼IDã®è‡ªå‹•å–å¾—
   - å„ªã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“

2. **QRã‚³ãƒ¼ãƒ‰æ–¹å¼**
   - iOSãƒ»Androidä¸¡å¯¾å¿œ
   - å®Ÿè£…ãŒç°¡å˜
   - NFCã‚«ãƒ¼ãƒ‰ä¸è¦

3. **ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰é‹ç”¨**
   - æŸ”è»Ÿãªé‹ç”¨ãŒå¯èƒ½
   - ä»£æ›¿æ‰‹æ®µã‚’æä¾›
   - æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®å…±å­˜

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆåˆå›ã®ã¿ï¼‰

1. **LINE Developersã§ã®è¨­å®š**
   ```
   1. LINE Developersã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ­ã‚°ã‚¤ãƒ³
   2. LINEãƒ­ã‚°ã‚¤ãƒ³ãƒãƒ£ãƒãƒ«ã‚’ä½œæˆï¼ˆMessaging APIãƒãƒ£ãƒãƒ«ã§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼‰
   3. LIFFã‚¢ãƒ—ãƒªã‚’ä½œæˆ
   4. ãƒœãƒƒãƒˆãƒªãƒ³ã‚¯æ©Ÿèƒ½ã‚’è¨­å®šï¼ˆMessaging APIãƒãƒ£ãƒãƒ«ã¨é€£æºï¼‰
   5. LIFF IDã‚’å–å¾—
   ```

   > **é‡è¦**: 2019å¹´11æœˆä»¥é™ã€Messaging APIãƒãƒ£ãƒãƒ«ã«ã¯LIFFã‚¢ãƒ—ãƒªã‚’è¿½åŠ ã§ãã¾ã›ã‚“ã€‚
   > **LINEãƒ­ã‚°ã‚¤ãƒ³ãƒãƒ£ãƒãƒ«**ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

2. **ç’°å¢ƒå¤‰æ•°ã®è¨­å®š**
   ```bash
   # .env.local ã«è¿½åŠ 
   NEXT_PUBLIC_LIFF_ID=your_liff_id
   ```

3. **ã‚¢ãƒ—ãƒªã®å†èµ·å‹•**
   ```bash
   npm run dev
   ```

è©³ç´°ã¯ [`docs/liff-parent-link-setup-guide.md`](./liff-parent-link-setup-guide.md) ã‚’å‚ç…§

### 2. æ—¥å¸¸çš„ãªé‹ç”¨

#### ç®¡ç†ç”»é¢ã§ã®æ“ä½œ

1. ã€Œè¦ªå¾¡ã•ã‚“ç®¡ç†ã€ãƒšãƒ¼ã‚¸ã‚’é–‹ã
2. è¦ªå¾¡ã•ã‚“ã®è¡Œã®ã€ŒQRã‚³ãƒ¼ãƒ‰ã‚¢ã‚¤ã‚³ãƒ³ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ç”Ÿæˆã•ã‚ŒãŸQRã‚³ãƒ¼ãƒ‰ã‚’è¦ªå¾¡ã•ã‚“ã«é€ä¿¡
   - ç”»åƒã¨ã—ã¦ä¿å­˜
   - URLã‚’ã‚³ãƒ”ãƒ¼
   - å…±æœ‰æ©Ÿèƒ½ã‚’ä½¿ç”¨

#### è¦ªå¾¡ã•ã‚“ã®æ“ä½œ

1. å—ã‘å–ã£ãŸQRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ãƒãƒ›ã§ã‚¹ã‚­ãƒ£ãƒ³
2. LINEã‚¢ãƒ—ãƒªãŒè‡ªå‹•çš„ã«é–‹ã
3. ç”Ÿå¾’æƒ…å ±ã¨è¦ªå¾¡ã•ã‚“æƒ…å ±ã‚’ç¢ºèª
4. è¦ªå¾¡ã•ã‚“ã‚’é¸æŠï¼ˆè¤‡æ•°ã„ã‚‹å ´åˆï¼‰
5. ã€ŒLINEé€šçŸ¥ã‚’é–‹å§‹ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—
6. é€£æºå®Œäº†ï¼

---

## ğŸ“Š ã‚·ã‚¹ãƒ†ãƒ ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç®¡ç†ç”»é¢ï¼ˆé‹å–¶å´ï¼‰          â”‚
â”‚  - QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆ              â”‚
â”‚  - è¦ªå¾¡ã•ã‚“ã«é€ä¿¡            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¦ªå¾¡ã•ã‚“ï¼ˆã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰   â”‚
â”‚  - QRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³         â”‚
â”‚  - LINEã‚¢ãƒ—ãƒªãŒèµ·å‹•           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LIFF (/parent-link)        â”‚
â”‚  - LINEãƒ¦ãƒ¼ã‚¶ãƒ¼IDè‡ªå‹•å–å¾—    â”‚
â”‚  - ç”Ÿå¾’ãƒ»è¦ªæƒ…å ±ã‚’è¡¨ç¤º        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API /parent-link/verify     â”‚
â”‚  - ã‚«ãƒ¼ãƒ‰IDâ†’ç”Ÿå¾’â†’è¦ªæƒ…å ±å–å¾— â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¦ªå¾¡ã•ã‚“ãŒç¢ºèªãƒ»é¸æŠ         â”‚
â”‚  - ã€ŒLINEé€šçŸ¥ã‚’é–‹å§‹ã™ã‚‹ã€     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API /parent-link/connect    â”‚
â”‚  - LINEè‡ªå‹•ç´ä»˜ã‘            â”‚
â”‚  - DBæ›´æ–°                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é€£æºå®Œäº†ï¼                  â”‚
â”‚  - ä»Šå¾Œã€å…¥é€€å®¤é€šçŸ¥ãŒå±Šã     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹å¯¾ç­–

1. **èªè¨¼**
   - LIFFã‚’ä½¿ç”¨ã—ãŸå…¬å¼ã®LINEèªè¨¼
   - LINE User IDã®è‡ªå‹•å–å¾—ï¼ˆæ”¹ã–ã‚“ä¸å¯ï¼‰

2. **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**
   - è¦ªå­é–¢ä¿‚ã®ç¢ºèª
   - ç”Ÿå¾’ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèªï¼ˆ`active`ã®ã¿ï¼‰
   - ç”Ÿå¾’ã®ãƒ­ãƒ¼ãƒ«ç¢ºèªï¼ˆ`student`ã®ã¿ï¼‰

3. **é‡è¤‡é˜²æ­¢**
   - æ—¢å­˜ã®é€£æºã‚’ç¢ºèª
   - é‡è¤‡ç™»éŒ²ã‚’é˜²æ­¢

4. **ãƒ‡ãƒ¼ã‚¿ä¿è­·**
   - Supabase RLSã‚’ä½¿ç”¨ã—ãŸã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
   - Service Role Keyã§ã®å®‰å…¨ãªDBæ“ä½œ

---

## ğŸ“ˆ æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

### 1. é‹å–¶å´ã®ãƒ¡ãƒªãƒƒãƒˆ

- âœ… **ä½œæ¥­æ™‚é–“ã®å‰Šæ¸›**: æ‰‹å‹•ç´ä»˜ã‘ä½œæ¥­ãŒä¸è¦ã«
- âœ… **ã‚¨ãƒ©ãƒ¼ã®å‰Šæ¸›**: æ‰‹å…¥åŠ›ãƒŸã‚¹ãŒãªããªã‚‹
- âœ… **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£**: æ–°è¦ä¼šå“¡ãŒå¢—ãˆã¦ã‚‚å¯¾å¿œå¯èƒ½
- âœ… **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å¯¾å¿œ**: å…¥ä¼šæ™‚ã«ã™ãé€£æºå¯èƒ½

### 2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆè¦ªå¾¡ã•ã‚“ï¼‰ã®ãƒ¡ãƒªãƒƒãƒˆ

- âœ… **ç°¡å˜**: QRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã™ã‚‹ã ã‘
- âœ… **æ—©ã„**: æ•°ç§’ã§é€£æºå®Œäº†
- âœ… **å®‰å…¨**: LINEå…¬å¼èªè¨¼ã§å®‰å¿ƒ
- âœ… **å³æ™‚**: ã™ãã«é€šçŸ¥ãŒå±Šãã‚ˆã†ã«ãªã‚‹

---

## ğŸ›  æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Next.js 16, React 19, TypeScript
- **LIFF**: @line/liff (LINE Front-end Framework)
- **QRã‚³ãƒ¼ãƒ‰**: qrcode (QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆ)
- **UI**: Radix UI, Tailwind CSS
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: Next.js API Routes
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: Supabase (PostgreSQL)
- **èªè¨¼**: LINE Login (LIFF)

---

## ğŸ“¦ è¿½åŠ ã•ã‚ŒãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

```json
{
  "@line/liff": "^2.x.x",
  "qrcode": "^1.x.x",
  "@types/qrcode": "^1.x.x"
}
```

---

## ğŸ“ ä½œæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«

### APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
- `app/api/parent-link/verify/route.ts`
- `app/api/parent-link/connect/route.ts`

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- `app/parent-link/page.tsx` (LIFFå¯¾å¿œè¦ªå­ç´ä»˜ã‘ãƒšãƒ¼ã‚¸)
- `app/parent-register/page.tsx` â­æ–°æ©Ÿèƒ½ (NFCã‚«ãƒ¼ãƒ‰èª­ã¿å–ã‚Šãƒšãƒ¼ã‚¸)
- `components/admin/parent-qr-dialog.tsx` (QRã‚³ãƒ¼ãƒ‰ãƒ€ã‚¤ã‚¢ãƒ­ã‚°)

### ä¿®æ­£ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«
- `app/admin/parents/page.tsx` (QRã‚³ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ã¨ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã€è¦ªå¾¡ã•ã‚“å‘ã‘ç™»éŒ²ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯ã‚’è¿½åŠ )

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- `docs/liff-parent-link-setup-guide.md`
- `docs/parent-self-link-feature.md` (ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«)

---

## ğŸ”„ æ—¢å­˜æ©Ÿèƒ½ã¨ã®é–¢ä¿‚

### ç¶­æŒã•ã‚Œã‚‹æ©Ÿèƒ½

- **ç®¡ç†ç”»é¢ã§ã®æ‰‹å‹•ç´ä»˜ã‘**: å¾“æ¥é€šã‚Šä½¿ç”¨å¯èƒ½
- **å…¥é€€å®¤ã‚·ã‚¹ãƒ†ãƒ **: å¤‰æ›´ãªã—
- **LINEé€šçŸ¥æ©Ÿèƒ½**: å¤‰æ›´ãªã—

### è¿½åŠ ã•ã‚Œã‚‹æ©Ÿèƒ½

- **QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆ**: è¦ªå¾¡ã•ã‚“ç®¡ç†ç”»é¢ã«è¿½åŠ 
- **è‡ªå‹•ç´ä»˜ã‘**: æ–°ã—ã„ç´ä»˜ã‘æ–¹æ³•ã¨ã—ã¦è¿½åŠ 

### å…±å­˜é‹ç”¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç´ä»˜ã‘æ–¹æ³•                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â‘  QRã‚³ãƒ¼ãƒ‰ï¼ˆæ–°æ©Ÿèƒ½ï¼‰        â”‚ â† æ¨å¥¨
â”‚  â‘¡ ç®¡ç†ç”»é¢ã§æ‰‹å‹•ç´ä»˜ã‘      â”‚ â† ãƒˆãƒ©ãƒ–ãƒ«æ™‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆé …ç›®

### 1. åŸºæœ¬å‹•ä½œ

- [x] QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆ
- [x] QRã‚³ãƒ¼ãƒ‰ã‚¹ã‚­ãƒ£ãƒ³
- [x] LIFFåˆæœŸåŒ–
- [x] è¦ªå¾¡ã•ã‚“æƒ…å ±å–å¾—
- [x] LINEé€£æºå®Ÿè¡Œ
- [x] é€£æºå®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º

### 2. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

- [x] è¦ªå¾¡ã•ã‚“ãŒæœªç™»éŒ²ã®å ´åˆ
- [x] ç”Ÿå¾’ãŒæœªç™»éŒ²ã®å ´åˆ
- [x] è¦ªå­é–¢ä¿‚ãŒæœªè¨­å®šã®å ´åˆ
- [x] æ—¢ã«LINEé€£æºæ¸ˆã¿ã®å ´åˆ
- [x] ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ã®å ´åˆ

### 3. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- [x] ä¸æ­£ãªLINE User IDã®æ¤œè¨¼
- [x] è¦ªå­é–¢ä¿‚ã®æ¤œè¨¼
- [x] ç”Ÿå¾’ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®æ¤œè¨¼
- [x] é‡è¤‡é€£æºã®é˜²æ­¢

---

## ğŸ“ ä»Šå¾Œã®æ‹¡å¼µæ¡ˆ

### ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ©Ÿèƒ½

1. **é€šçŸ¥è¨­å®šã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**
   - è¦ªå¾¡ã•ã‚“è‡ªèº«ã§é€šçŸ¥ON/OFFã‚’åˆ‡ã‚Šæ›¿ãˆ
   - é€šçŸ¥æ™‚é–“å¸¯ã®è¨­å®š

2. **è¤‡æ•°LINEé€£æº**
   - 1äººã®è¦ªå¾¡ã•ã‚“ãŒè¤‡æ•°ã®LINEã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§å—ä¿¡

3. **QRã‚³ãƒ¼ãƒ‰æœ‰åŠ¹æœŸé™**
   - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ã®ãŸã‚æœ‰åŠ¹æœŸé™ã‚’è¨­å®š

4. **é€£æºè§£é™¤æ©Ÿèƒ½**
   - è¦ªå¾¡ã•ã‚“è‡ªèº«ã§é€£æºã‚’è§£é™¤ã§ãã‚‹

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

è©³ç´°ãªãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯ [`docs/liff-parent-link-setup-guide.md`](./liff-parent-link-setup-guide.md) ã®ã€Œãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### ã‚ˆãã‚ã‚‹è³ªå•

Q&Aã¯ [`docs/liff-parent-link-setup-guide.md`](./liff-parent-link-setup-guide.md) ã®ã€Œã‚ˆãã‚ã‚‹è³ªå•ï¼ˆFAQï¼‰ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

## âœ¨ ã¾ã¨ã‚

**ç›®æ¨™**: âœ… é”æˆ

é‹å–¶å´ã§ã®æ‰‹å‹•ç´ä»˜ã‘ä½œæ¥­ã‚’å»ƒæ­¢ã—ã€è¦ªå¾¡ã•ã‚“è‡ªèº«ãŒã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã§QRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã™ã‚‹ã ã‘ã§è‡ªå‹•çš„ã«LINEé€£æºãŒå®Œäº†ã™ã‚‹ä»•çµ„ã¿ã‚’å®Ÿè£…ã—ã¾ã—ãŸã€‚

**ä¸»ãªæˆæœ**:
- é‹å–¶ã‚³ã‚¹ãƒˆã®å‰Šæ¸›
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Š
- ã‚¨ãƒ©ãƒ¼ã®å‰Šæ¸›
- ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ãªé‹ç”¨ã®å®Ÿç¾

**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**:
1. LINEãƒ­ã‚°ã‚¤ãƒ³ãƒãƒ£ãƒãƒ«ã®ä½œæˆï¼ˆâ€»Messaging APIãƒãƒ£ãƒãƒ«ã§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼‰
2. LIFFã‚¢ãƒ—ãƒªã®ä½œæˆã¨ãƒœãƒƒãƒˆãƒªãƒ³ã‚¯æ©Ÿèƒ½ã®è¨­å®š
3. LIFF IDã®å–å¾—ãƒ»ç’°å¢ƒå¤‰æ•°ã¸ã®è¨­å®š
4. ãƒ†ã‚¹ãƒˆå®Ÿæ–½
5. æœ¬ç•ªé‹ç”¨é–‹å§‹

> **é‡è¦**: 2019å¹´11æœˆä»¥é™ã€Messaging APIãƒãƒ£ãƒãƒ«ã«ã¯LIFFã‚¢ãƒ—ãƒªã‚’è¿½åŠ ã§ãã¾ã›ã‚“ã€‚å¿…ãš**LINEãƒ­ã‚°ã‚¤ãƒ³ãƒãƒ£ãƒãƒ«**ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

è©³ç´°ãªæ‰‹é †ã¯ [`docs/liff-parent-link-setup-guide.md`](./liff-parent-link-setup-guide.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

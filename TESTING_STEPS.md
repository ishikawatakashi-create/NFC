# テスト手順（カードが読み込まれない場合の対処）

## 🔄 対処方法 1: ブラウザのハードリロード

### Android Chromeでの手順：
1. Chromeのメニュー（右上の3点）を開く
2. 「設定」→「プライバシーとセキュリティ」→「閲覧履歴データの削除」
3. 「キャッシュされた画像とファイル」にチェック
4. 「データを削除」をタップ
5. ブラウザを閉じて再起動
6. ngrok URLに再度アクセス

**または、より簡単な方法：**
- URLの末尾に `?v=2` を追加してアクセス
  ```
  https://oppositionary-proletarianly-kena.ngrok-free.dev/kiosk/entry?v=2
  ```

---

## 🔄 対処方法 2: 開発サーバーを再起動

ターミナルで以下を実行：

### ターミナル3（開発サーバー）:
1. `Ctrl + C` で停止
2. `npm run dev` で再起動

### ターミナル8（ngrok）:
- そのまま（再起動不要）

---

## 🧪 テスト手順

### 1. 管理画面でカード登録
```
https://oppositionary-proletarianly-kena.ngrok-free.dev/admin/students
```

1. 生徒の「カード登録」ボタンをクリック
2. 「開始」ボタンをクリック
3. マイナンバーカード、Suica、パスポート等をタッチ

**期待される動作：**
- 「カードを端末にタッチしてください」と表示される
- カードをタッチすると「✓ 登録完了」と表示される
- カードIDが表示される

**エラーが出る場合：**
- ブラウザの開発者ツール（F12）でコンソールを確認
- エラーメッセージをコピー

### 2. キオスク画面で入室テスト
```
https://oppositionary-proletarianly-kena.ngrok-free.dev/kiosk/entry
```

1. 「カードをタッチ」ボタンをクリック
2. 登録したカードをタッチ

**期待される動作：**
- 「○○さんの入室を記録しました。」と表示される
- カードIDが表示される

---

## 🐛 デバッグ方法

### Android Chromeで開発者ツールを使う

1. PC側のChromeで `chrome://inspect` にアクセス
2. Android端末をUSBで接続
3. 「Remote devices」に端末が表示される
4. 「Inspect」をクリック
5. Consoleタブでエラーを確認

---

## ⚠️ よくある問題

### 問題1: 「カードをタッチ」ボタンを押しても何も起きない
- ブラウザのキャッシュをクリア
- ページを再読み込み（ハードリロード）

### 問題2: 「このデバイスはNFCをサポートしていません」と表示される
- HTTPS環境か確認（URLが `https://` で始まっているか）
- Android Chromeを使用しているか確認
- NFCが有効になっているか確認

### 問題3: カードをタッチしても反応しない
- Android設定でNFCが有効か確認
- カードを端末の背面中央にゆっくりタッチ
- カードを数秒間密着させる




